import { registerWorkletCtx } from './call/runOnBackground.js';
import { isMtsEnabled, isRunOnBackgroundEnabled } from './functionality.js';
/**
 * @internal
 */
export function onPostWorkletCtx(afterValue) {
    if (!isMtsEnabled() && afterValue) {
        lynx.reportError(new Error('Main thread script requires Lynx sdk version 2.14'));
        return null;
    }
    if (!afterValue || !isRunOnBackgroundEnabled()) {
        return afterValue;
    }
    registerWorkletCtx(afterValue);
    return afterValue;
}
//# sourceMappingURL=ctx.js.map